{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/providers/default-provider.ts","webpack:///./src/providers/toutiao-provider.ts","webpack:///./src/index.ts","webpack:///./src/i18n.ts","webpack:///./src/config.ts","webpack:///./src/providers/provider-factory.ts","webpack:///./src/providers/alipay-provider.ts","webpack:///./src/store.ts","webpack:///./src/util.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import { IProvider } from \"./provider\";\n\n// tslint:disable-next-line\ndeclare var getCurrentPages;\n\nexport class DefaultProvider implements IProvider {\n    protected provider: any;\n    constructor(provider: any) {\n        this.provider = provider;\n    }\n    public getSetData(p: any): (data: any, callback?: () => void) => void {\n        if (p && typeof p.setData === \"function\") {\n            return (data, callback) => p.setData(data, callback);\n        } else if (p && typeof p.setState === \"function\") {\n            return (data, callback) => p.setState(data, callback);\n        }\n    }\n    public request(params: { url: string }) {\n        const fn = this.provider && this.provider.request;\n        return this.promisify(fn, params);\n    }\n    public getStorageInfo(): Promise<{ keys: string[]; }> {\n        const fn = this.provider && this.provider.getStorageInfo;\n        return this.promisify(fn);\n    }\n    public removeStorage(params: { key: string; }) {\n        const fn = this.provider && this.provider.removeStorage;\n        return this.promisify(fn, params);\n    }\n    public setStorage(params: { key: string; data: any; }): Promise<any> {\n        const fn = this.provider && this.provider.setStorage;\n        return this.promisify(fn, params);\n    }\n    public getStorage(params: { key: string; }): Promise<{ data: any; }> {\n        const fn = this.provider && this.provider.getStorage;\n        return this.promisify(fn, params);\n    }\n    public getStorageSync(key: string): any {\n        const fn = this.provider && this.provider.getStorageSync;\n        return fn(key);\n    }\n    public getCurrentPages(): [{ route: string; }] {\n        let fn = this.provider && this.provider.getCurrentPages;\n        fn = fn || getCurrentPages;\n        return fn();\n    }\n    private promisify(fn, params?: object): Promise<any> {\n        if (typeof fn !== \"function\") { throw new TypeError(\"Invalid provider type.\"); }\n        params = Object.assign({}, params);\n        return new Promise((success, fail) => fn({ ...params, success, fail }))\n            .catch((err) => (console.log(err), Promise.reject(err)));\n    }\n}\n","import { DefaultProvider } from \"./default-provider\";\nimport { IProvider } from \"./provider\";\n\nexport class TTProvider extends DefaultProvider implements IProvider {\n    public getStorageSync(key: string) {\n        return super.getStorageSync(key).data;\n    }\n}\n","import { i18n, IFormatOptions, II18nLoadOptions, II18nOptions } from \"./i18n\";\nexport { i18n, IFormatOptions, II18nLoadOptions, II18nOptions };\nexport { IProvider } from \"./providers/provider\";\nexport { DefaultProvider } from \"./providers/default-provider\";\n","import { defaultConfig, II18nConfigOptions } from \"./config\";\nimport { I18nStore } from \"./store\";\nimport { Util } from \"./util\";\n\nexport interface II18nOptions {\n    /**\n     * The resource(page or component) path, default get current path by 'getCurrentPages'.\n     */\n    path?: string;\n    /**\n     * Local texts resource, if not set, it will fetch from the remote.\n     */\n    texts?: Record<string, any>;\n}\n\nexport interface II18nLoadOptions extends II18nOptions {\n    /**\n     * Variable name used in the template\n     * @default '$t'\n     */\n    tmplVar?: string;\n    /**\n     * Current language variable name\n     * @default '$lang'\n     */\n    langVar?: string;\n    /**\n     * Whether the current target is a component, used to decorate classes.\n     */\n    isComponent?: boolean;\n    /**\n     * Whether the current target is a page, used to decorate classes.\n     */\n    isPage?: boolean;\n    /**\n     * The specified lifetime for loading i18n resources, used to decorate classes.\n     * @default 'attached' for component and 'onLoad' for page.\n     */\n    lifetime?: string;\n}\n\nexport interface IFormatOptions {\n    /**\n     * The variable matching start symbol\n     * @default '{'.\n     */\n    left?: string;\n    /**\n     * The variable matching end symbol\n     * @default '}'.\n     */\n    right?: string;\n    /**\n     * The default value for formatting\n     * @default ''.\n     */\n    defaultValue?: string | object;\n}\nexport let config: II18nConfigOptions;\nlet store: I18nStore;\nlet util: Util;\nlet userLanguage: string;\n\nexport function i18n(options?: II18nLoadOptions): any {\n    const decorator = function(target: any, name?: string, descriptor?: PropertyDescriptor) {\n        if (typeof target === \"function\") {\n            let lifetime = options.lifetime;\n            lifetime = lifetime || options.isPage && config.pageLifetime;\n            lifetime = lifetime || options.isComponent && config.componentLifetime;\n            if (!lifetime) {\n                console.warn(\"When Used to decorate class with 'i18n', please set 'isComponent' or 'isPage' option\");\n                return;\n            }\n            const originalValue = target.prototype[lifetime];\n            target.prototype[lifetime] = function(...args: any[]) {\n                return decorator.fn.call(this).finally(() => originalValue && originalValue.apply(this, args));\n            };\n        } else {\n            const originalValue = descriptor.value;\n            descriptor.value = function(...args: any[]) {\n                return decorator.fn.call(this).finally(() => originalValue.apply(this, args));\n            };\n        }\n\n    };\n    decorator.fn = function() {\n        return i18n.load(this, options);\n    };\n    return decorator;\n}\n\n/**\n * Get current language\n */\ni18n.getLanguage = function(): string {\n    const { rememberLanguage, languageStorageKey, provider } = config;\n    if (rememberLanguage && languageStorageKey) {\n        if (userLanguage) {\n            return userLanguage;\n        } else {\n            const lang = provider.getStorageSync(config.languageStorageKey);\n            if (lang) {\n                return userLanguage = lang;\n            }\n        }\n    }\n    return config.lang;\n};\n/**\n * Set current language\n */\ni18n.setLanguage = function(lang: string) {\n    config.lang = lang;\n    const { rememberLanguage, languageStorageKey, provider } = config;\n    if (rememberLanguage && languageStorageKey) {\n        userLanguage = lang;\n        provider.setStorage({ key: languageStorageKey, data: lang });\n    }\n};\n/**\n * Configure i18n options\n * @param options\n */\ni18n.config = function(options: II18nConfigOptions) {\n    config = Object.assign(defaultConfig, options);\n    store = new I18nStore(config);\n    util = new Util(config);\n    util.debug(\"Current i18n config:\", config);\n};\n\n/**\n * Get index resource.\n * @param options options.\n */\ni18n.getIndex = function(options: { forced?: boolean } = {}): Promise<Record<string, any>> {\n    const { indexUrl, cachable } = config;\n    if (!cachable || options.forced) {\n        if (!util.isFn(indexUrl)) { throw new Error(\"Please configure the 'indexUrl' option first.\"); }\n        const url = indexUrl();\n        if (i18n.getIndex.prototype.promise) { return i18n.getIndex.prototype.promise; }\n        util.debug(\"Getting index resource from remote\");\n        const clear = () => i18n.getIndex.prototype.promise = undefined;\n        const promise = util.request(url)\n            .then((data) => store.clear(data))\n            .then((data) => (clear(), data), (error) => (clear(), Promise.reject(error)));\n        return i18n.getIndex.prototype.promise = promise;\n    } else {\n        util.debug(\"Trying get index resource from local\");\n        return Promise.resolve(i18n.getIndex.prototype.data)\n            .then((data) => data || i18n.getIndex({ forced: true }))\n            .then((data) => i18n.getIndex.prototype.data = data);\n    }\n};\n\n/**\n * Get original i18n resources for the corresponding page or componet (default is current page).\n * @param options options.\n * @returns the original resources.\n *\n * @example\n * i18n.getTexts().then(console.log).catch(console.error);//{ zh:{ hello:\"你好\" },en:{ hello:\"Hello\" } }\n */\ni18n.getTexts = function(options: II18nOptions = {}): Promise<any> {\n    const { texts } = options;\n    if (texts) {\n        util.debug(\"Use local texts\", texts);\n        return Promise.resolve(texts);\n    }\n    const { textsUrl, cachable } = config;\n    if (!util.isFn(textsUrl)) { throw new Error(\"Please configure the 'textsUrl' option first.\"); }\n    const path = options.path || util.getCurrentPageRoute();\n    util.debug(`Current i18n path is ${path}`);\n    if (typeof path !== \"string\") { throw new TypeError(\"The path must be string type.\"); }\n    return i18n.getIndex()\n        .then((resources) => resources[path])\n        .then((hash) => {\n            if (!hash) {\n                return Promise.reject(new Error(`The path '${path}' was not defined in index file.`));\n            }\n            const url = textsUrl(hash, path);\n            if (cachable) {\n                return store.get(path).then((data: any) => {\n                    if (data && data.version === hash) {\n                        util.debug(`Getting text resource from cache.`);\n                        return data;\n                    } else {\n                        if (!data) {\n                            util.debug(`The cache resource not exists and getting text resource from remote`);\n                        } else {\n                            store.remove(path);\n                            util.debug(`The cache resource has expired.`);\n                        }\n                        return util.request(url)\n                            .then((res: any) => (res.version = hash, res))\n                            .then((t: any) => (store.set(path, t), t));\n                    }\n\n                });\n            } else {\n                util.debug(`Getting text resource from remote`);\n                return util.request(url);\n            }\n        });\n};\n\n/**\n * Load curennt language's resources and bind to the corresponding page or componet (default is current page).\n * @param thisArg page or component object.\n * @param options load options.\n * @returns the i18n resources.\n *\n * @example\n * //index.js\n * const { i18n }=require(\"mp-i18n\");\n * Page({\n *  onLoad(){\n *    i18n.load(this)\n *  }\n * })\n *\n * //index.wxss\n * <view>{{$t.key}}</view>\n */\ni18n.load = function(thisArg: any, options: II18nLoadOptions = {}): Promise<any> {\n    const setData = config.provider.getSetData(thisArg);\n    if (!util.isFn(setData)) { throw new TypeError(`param 'thisArg' has no method 'setData'.`); }\n    const tmplVar = options.tmplVar || config.tmplVar || defaultConfig.tmplVar;\n    const langVar = options.langVar || config.langVar || defaultConfig.langVar;\n    const getData = (texts) => {\n        const data = {};\n        const lang = i18n.getLanguage();\n        // tslint:disable-next-line\n        lang && (data[langVar] = i18n.getLanguage());\n        // tslint:disable-next-line\n        texts && (data[tmplVar] = texts);\n        return data;\n    };\n    return i18n.getTexts(options)\n        .then((t) => i18n.mergeTexts(t))\n        .then((texts) => new Promise((resolve) => setData(getData(texts), () => resolve(texts))));\n};\n\n/**\n * Format a template string with the specified parameter.\n * @param template the template string.\n * @param params the parameter object to format template.\n * @param options formatting options, if the matching symbol(left and right) contains\n * special characters, please use the character '\\' to escape, such as { left:\"\\\\${\" }.\n * @returns the formatting result.\n *\n * @example\n * i18n.format('hello, {world}!', { world:'fisher' }) //hello, fisher!\n * i18n.format('hello, {world}!', {},{ defaultValue:'world' }) //hello, world!\n * i18n.format('hello, ${world}!', { world:'fisher' }, { left:\"\\\\${\" }) //hello, fisher!\n */\ni18n.format = function(template: string, params: object, options?: IFormatOptions): string {\n    if (!template) { return template; }\n    if (!util.isStr(template)) { throw new TypeError(`The param 'template' must be string type.`); }\n    options = Object.assign({ left: \"{\", right: \"}\", defaultValue: \"\" }, options);\n    const { left, right, defaultValue } = options;\n    const regex = new RegExp(`${left}(.+?)${right}`, \"g\");\n    const result = template.replace(regex, function(substr: string, key: string) {\n        key = key.trim();\n        let value = params && params[key];\n        if (value === undefined && defaultValue !== undefined) {\n            value = typeof defaultValue === \"object\" ? defaultValue[key] : defaultValue;\n        }\n        return value;\n    });\n    return result;\n};\n\n/**\n * Merge texts by specified or current language.\n * @param data multi-language texts.\n * @param lang the specified language, default use current language.\n *\n * @example\n * i18n.mergetTexts({ zh:{ hi:'你好' },en:{ hi:'Hi' } },'en') //{ hi:'Hi' }\n */\ni18n.mergeTexts = function(data: any, lang?: string) {\n    if (!data) { return {}; }\n    const language = lang || i18n.getLanguage();\n    if (!(language in data)) {\n        util.debug(`The resource corresponding to ${language} does not exist.`, data);\n    }\n    return data[language];\n};\n","import { IProvider } from \"./providers/provider\";\nimport { createProvider } from \"./providers/provider-factory\";\n\nexport interface II18nConfigOptions {\n    /**\n     * whether to enable cache,\n     * @default true.\n     */\n    cachable?: boolean;\n    /**\n     * whether to enable debug mode\n     * @default false.\n     */\n    debug?: boolean;\n    /**\n     * the stroage key for keeping language user selected, it only works when setting 'rememberLanguage' to true.\n     * @default 'i18n_language'\n     */\n    languageStorageKey?: string;\n    /**\n     * whether to remember the language selected by the user.\n     */\n    rememberLanguage?: boolean;\n    /**\n     * the api provider, it is automatically created from the current environment by default.\n     */\n    provider?: IProvider;\n    /**\n     * the key prefix for storage\n     * @default 'i18n'\n     */\n    storageKeyPrefix?: string;\n    /**\n     * initial language\n     * if the option 'rememberLanguage' is set to true, the rememberd language is preferred.\n     * @default 'zh_CN'\n     */\n    lang?: string;\n    /**\n     * texts file path factory function.\n     */\n    textsUrl: (hash: string, path: string) => string;\n    /**\n     * index file path factory function.\n     */\n    indexUrl: () => string;\n    /**\n     * variable name used in the template\n     * @default '$t'.\n     */\n    tmplVar?: string;\n    /**\n     * current language variable name\n     * @default '$lang'.\n     */\n    langVar?: string;\n    /**\n     * the specified component's lifetime for loading i18n resources\n     * @default attached\n     */\n    componentLifetime?: string;\n    /**\n     * the specified page's lifetime for loading i18n resources\n     * @default onLoad\n     */\n    pageLifetime?: string;\n}\n\nexport const defaultConfig = {\n    cachable: true,\n    componentLifetime: \"attached\",\n    debug: false,\n    lang: \"zh_CN\",\n    langVar: \"$lang\",\n    languageStorageKey: \"i18n_language\",\n    pageLifetime: \"onLoad\",\n    provider: createProvider(),\n    rememberLanguage: true,\n    storageKeyPrefix: \"i18n\",\n    tmplVar: \"$t\",\n};\n","import { AliProvider } from \"./alipay-provider\";\nimport { DefaultProvider } from \"./default-provider\";\nimport { IProvider } from \"./provider\";\nimport { TTProvider } from \"./toutiao-provider\";\n\n// tslint:disable\ndeclare var wx, my, tt, swan;\n\nexport function createProvider(): IProvider {\n    try {\n        if (wx !== undefined) {\n            return new DefaultProvider(wx);\n        }\n    } catch (error) { }\n    try {\n        if (my !== undefined) {\n            return new AliProvider(my);\n        }\n    } catch (error) { }\n    try {\n        if (tt !== undefined) {\n            return new TTProvider(tt);\n        }\n    } catch (error) { }\n    try {\n        if (swan !== undefined) {\n            return new DefaultProvider(tt);\n        }\n    } catch (error) { }\n}\n","import { IProvider } from \"./provider\";\nimport { TTProvider } from \"./toutiao-provider\";\n\nexport class AliProvider extends TTProvider implements IProvider {\n    public request(params: { url: string }): Promise<{ data: any, statusCode: number, header: object }> {\n        return super.request(params)\n            .then((res) => (res.statusCode = res.status, res));\n    }\n}\n","import { II18nConfigOptions } from \"./config\";\nimport { IProvider } from \"./providers/provider\";\n\nexport class I18nStore {\n    private provider: IProvider;\n    private prefix: string;\n    private languageKey: string;\n    constructor(config: II18nConfigOptions) {\n        this.prefix = config.storageKeyPrefix;\n        this.provider = config.provider;\n        this.languageKey = config.languageStorageKey;\n    }\n    public get(path: string) {\n        const key = this.getKey(path);\n        return this.provider.getStorage({ key })\n            .then((res) => res.data)\n            .catch(() => null);\n    }\n    public set(path: string, data: any) {\n        const key = this.getKey(path);\n        return this.provider.setStorage({ key, data });\n    }\n    public has(path: string): Promise<boolean> {\n        const key = this.getKey(path);\n        return this.provider.getStorageInfo()\n            .then((res) => res.keys.indexOf(key) >= 0)\n            .catch(() => false);\n    }\n    public remove(path: string) {\n        const key = this.getKey(path);\n        return this.provider.removeStorage({ key });\n    }\n    public getAll() {\n        if (!this.prefix) {\n            return Promise.reject(new Error(\"missing i18n configuration option 'storageKeyPrefix'\"));\n        }\n        return this.provider.getStorageInfo()\n            .then((info) => info.keys)\n            .then((keys) => keys.filter((key: string) => key.startsWith(this.prefix)));\n    }\n    public clear(data: object) {\n        const from = this.getKey(\"\").length;\n        this.getAll()\n            .then((keys) => keys.filter((key) => key !== this.languageKey && !(key.substr(from) in data)))\n            .then((keys) => keys.forEach((key) => this.provider.removeStorage({ key })))\n            .catch(console.error);\n        return data;\n    }\n    private getKey(path: string) {\n        return `${this.prefix}/${path}`;\n    }\n}\n","import { II18nConfigOptions } from \"./config\";\n\nexport class Util {\n    constructor(private config: II18nConfigOptions) { }\n    public getCurrentPageRoute() {\n        const pages = this.config.provider.getCurrentPages();\n        const currentPage = pages[pages.length - 1];\n        return currentPage.route;\n    }\n\n    public request(url: string) {\n        this.debug(`i18n request url: ${url}`);\n        return this.config.provider.request({ url })\n            .then((res: any) => (res.statusCode = res.statusCode || res.status, res))\n            .then(({ statusCode, data }) => (statusCode === 200 ? data : Promise.reject(new Error(`Incorrent status code ${statusCode}`))))\n            .then((data: any) => {\n                if (typeof data === \"object\") {\n                    return data;\n                }\n                return Promise.reject(new Error(\"invalid i18n config file, please check file contents.\"));\n            })\n            .catch((error) => (this.debug(\"request error:\", error), Promise.reject(error)));\n    }\n\n    public debug(...args: any[]) {\n        if (this.config.debug) {\n            console.log(...args);\n        }\n    }\n\n    public isFn(fn: any) {\n        return typeof fn === \"function\";\n    }\n\n    public isObj(obj: any) {\n        return typeof obj === \"function\";\n    }\n\n    public isStr(str: any) {\n        return typeof str === \"string\";\n    }\n}\n"],"sourceRoot":""}